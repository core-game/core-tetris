{"version":3,"sources":["webpack:///client.d6de0bf5.js","webpack:///./src/index.js","webpack:////Users/liril/Documents/Dev/liril/wasd-tetris/dist/tetris.js","webpack:///App.vue","webpack:///./src/pwa.js","webpack:///./src/components/App.vue?6275","webpack:///./src/components/App.vue?2525"],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_vue","_vue2","_App","_App2","el","render","h","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","_typeof","Symbol","iterator","constructor","prototype","global","factory","undefined","apply","extend","to","from","key","pick","object","array","Object","keys","Math","floor","random","length","transpose","row","col","ret","i","push","j","copy","map","a","slice","reverseRow","reverse","reverseCol","rotate","clockwise","transposed","equal","b","JSON","stringify","create","fill","ref","startRow","endRow","startCol","endCol","min","max","rowLength","colLength","padStart","targetLength","pad","Array","concat","padEnd","extra","shift","offset","count","intersect$1","aLength","bLength","newA","newB","l","union","intersect$$1","shift$1","padTop","union$1","slice$1","block","startX","endX","startY","endY","x","y","intersect$2","ax","ay","aArray","aRow","aCol","aStartX","aEndX","aStartY","aEndY","bx","by","bArray","bRow","bCol","bStartX","bEndX","bStartY","bEndY","slicedA","slicedB","union$2","unionedArray","splice","create$1","type","_","clone","Matrix","options","this","_options","reset","prototypeAccessors$1","coordinate","get","matrix","defineProperties","Shape","shape","_shape","_index","maxCol","maxRow","_init","prototypeAccessors$3","index","margin","_shapes","set","val","gutter","join","check","start","end","forEach","top","bottom","ref$1","left","right","shapes","lastShape","I","J","L","O","S","T","Z","Block","prototypeAccessors$2","moveBy","moveTo","Tetris","this$1","auto","speed","_events","_bind","on","fail","_next","prototypeAccessors","graph","proto","_paused","_failed","addBlock","pause","resume","emit","_timeout","clearTimeout","_process","instance","loop","setTimeout","down","_union","_clearLines","drop","save","_detectCollision","restore","event","handler","args","len","arguments","fn","_lastState","document","addEventListener","e","which","lines","isEmpty","isFull","unshift","ref$2","defineProperty","value","_tetris","name","data","tetris","_pasued","mounted","init","methods","_this","alert","_runtime","_runtime2","install","onUpdateReady","console","log","applyUpdate","onUpdated","location","reload","Component","_vm","_h","$createElement","_c","_self","attrs","id","staticClass","_l","class","filled","_v","click","$event","_m","staticRenderFns","href"],"mappings":"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","file":"client.d6de0bf5.js","sourcesContent":["webpackJsonp([1],[\n/* 0 */,\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _vue = __webpack_require__(15);\n\nvar _vue2 = _interopRequireDefault(_vue);\n\nvar _App = __webpack_require__(11);\n\nvar _App2 = _interopRequireDefault(_App);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nif (true) {\n  __webpack_require__(4);\n}\n// @ is the path to `./src` folder\n\n\nnew _vue2.default({\n  el: '#app',\n  render: function render(h) {\n    return h(_App2.default);\n  }\n});\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/*!\n * (c) 2016-2017 WASD-ORG\n * Released under the MIT License.\n */\n(function (global, factory) {\n  ( false ? 'undefined' : _typeof(exports)) === 'object' && typeof module !== 'undefined' ? factory(exports) :  true ? !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : factory(global.WASD_Tetris = global.WASD_Tetris || {});\n})(undefined, function (exports) {\n  'use strict';\n\n  function extend(to, from) {\n    if (to === void 0) to = {};\n    if (from === void 0) from = {};\n\n    for (var key in from) {\n      to[key] = from[key];\n    }\n    return to;\n  }\n\n  function pick(object) {\n    var array = Object.keys(object);\n    var index = Math.floor(Math.random() * array.length);\n\n    return object[array[index]];\n  }\n\n  function transpose(array) {\n    var row = array.length;\n    var col = array[0].length;\n\n    if (!row || !col) {\n      return array;\n    }\n\n    var ret = [];\n\n    for (var i = 0; i < col; i++) {\n      ret.push([]);\n      for (var j = 0; j < row; j++) {\n        ret[i][j] = array[j][i];\n      }\n    }\n\n    return ret;\n  }\n\n  function copy(array) {\n    return array.map(function (a) {\n      return a.slice();\n    });\n  }\n\n  function reverseRow(array) {\n    return copy(array).map(function (a) {\n      return a.reverse();\n    });\n  }\n\n  function reverseCol(array) {\n    return copy(array).reverse();\n  }\n\n  function rotate(array, clockwise) {\n    if (clockwise === void 0) clockwise = true;\n\n    var transposed = transpose(array);\n    if (clockwise) {\n      return reverseRow(transposed);\n    } else {\n      return reverseCol(transposed);\n    }\n  }\n\n  // export function equal (a, b) {\n  //   const aLength = a.length\n  //   const bLength = b.length\n\n  //   if (aLength !== bLength) {\n  //     return false\n  //   }\n\n  //   for (let i = 0; i < aLength; i++) {\n  //     const aArray = a[i]\n  //     const bArray = b[i]\n\n  //     const aArrayLength = aArray.length\n  //     const bArrayLength = bArray.length\n\n  //     if (aArrayLength !== bArrayLength) {\n  //       return false\n  //     }\n\n  //     for (let j = 0; j < aArrayLength; j++) {\n  //       if (aArray[j] !== bArray[j]) {\n  //         return false\n  //       }\n  //     }\n  //   }\n\n  //   return true\n  // }\n\n  function equal(a, b) {\n    return JSON.stringify(a) === JSON.stringify(b);\n  }\n\n  function create(row, col, fill) {\n    if (fill === void 0) fill = 0;\n\n    var ret = [];\n\n    for (var i = 0; i < row; i++) {\n      ret.push([]);\n\n      for (var j = 0; j < col; j++) {\n        ret[i].push(fill);\n      }\n    }\n\n    return ret;\n  }\n\n  function slice(ref) {\n    var array = ref.array;\n    var startRow = ref.startRow;\n    var endRow = ref.endRow;\n    var startCol = ref.startCol;\n    var endCol = ref.endCol;\n\n    var row = array.length;\n    var col = array[0].length;\n    if (!row || !col) {\n      return;\n    }\n\n    startRow = Math.min(Math.max(0, startRow), row);\n    startCol = Math.min(Math.max(0, startCol), col);\n    endRow = Math.min(Math.max(0, endRow), row);\n    endCol = Math.min(Math.max(0, endCol), col);\n\n    var ret = [];\n\n    for (var i = 0, rowLength = endRow - startRow; i < rowLength; i++) {\n      ret.push([]);\n      for (var j = 0, colLength = endCol - startCol; j < colLength; j++) {\n        ret[i].push(array[i + startRow][j + startCol]);\n      }\n    }\n\n    return ret;\n  }\n\n  function padStart(array, targetLength, pad) {\n    if (targetLength === void 0) targetLength = 0;\n    if (pad === void 0) pad = 0;\n\n    var length = array.length;\n\n    if (length > targetLength) {\n      return array.slice();\n    }\n\n    var extra = Array(targetLength - length).fill(pad);\n\n    return extra.concat(array);\n  }\n\n  function padEnd(array, targetLength, pad) {\n    if (pad === void 0) pad = 0;\n\n    var length = array.length;\n\n    if (length > targetLength) {\n      return array.slice();\n    }\n\n    var extra = Array(targetLength - length).fill(pad);\n\n    return array.concat(extra);\n  }\n\n  function shift(array, offset, pad) {\n    if (offset === void 0) offset = 0;\n    if (pad === void 0) pad = 0;\n\n    var length = array.length;\n    if (offset >= 0) {\n      return padEnd(array, length + offset, pad);\n    }\n\n    var count = -offset;\n\n    if (count > length) {\n      return [];\n    }\n\n    return array.slice(0, length - count);\n  }\n\n  function intersect$1(a, b) {\n    var aLength = a.length;\n    var bLength = b.length;\n    var offset = aLength - bLength;\n\n    var newA = a.slice();\n    var newB = b.slice();\n\n    if (offset > 0) {\n      newB = padStart(newB, aLength);\n    } else if (offset < 0) {\n      newA = padStart(newA, bLength);\n    }\n\n    for (var i = 0, l = newA.length; i < l; i++) {\n      if (newA[i] && newB[i]) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function union(a, b) {\n    var aLength = a.length;\n    var bLength = b.length;\n    var offset = aLength - bLength;\n\n    var newA = a.slice();\n    var newB = b.slice();\n\n    if (offset > 0) {\n      newB = padStart(newB, aLength);\n    } else if (offset < 0) {\n      newA = padStart(newA, bLength);\n    }\n\n    var ret = [];\n\n    for (var i = 0, l = newA.length; i < l; i++) {\n      ret[i] = newB[i] || newA[i];\n    }\n\n    return ret;\n  }\n\n  function intersect$$1(a, b) {\n    var length = Math.min(a.length, b.length);\n    for (var i = 0, l = length; i < l; i++) {\n      if (intersect$1(a[i], b[i])) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function shift$1(array, offset, fill) {\n    if (offset === void 0) offset = 0;\n    if (fill === void 0) fill = 0;\n\n    return array.map(function (a) {\n      return shift(a, offset, fill);\n    });\n  }\n\n  function padTop(array, length, fill) {\n    if (fill === void 0) fill = 0;\n\n    array = copy(array);\n    var l = array.length;\n    if (!l) {\n      return array;\n    }\n    var row = length - l;\n    var col = array[0].length;\n\n    if (row <= 0 || col <= 0) {\n      return array;\n    }\n\n    return create(row, col, fill).concat(array);\n  }\n\n  function union$1(a, b) {\n    var ret = copy(a);\n\n    for (var i = 0, l = Math.min(a.length, b.length); i < l; i++) {\n      ret[i] = union(a[i], b[i]);\n    }\n\n    return ret;\n  }\n\n  var Matrix = function Matrix(options) {\n    this._options = extend({\n      row: 20,\n      col: 10,\n      x: 0,\n      y: 0\n    }, options);\n\n    this.x = this._options.x;\n    this.y = this._options.y;\n    this.row = this._options.row;\n    this.col = this._options.col;\n\n    this.reset();\n  };\n\n  var prototypeAccessors$1 = { coordinate: {} };\n\n  prototypeAccessors$1.coordinate.get = function () {\n    return {\n      x: this.x,\n      y: this.y,\n      array: this.matrix\n    };\n  };\n\n  Matrix.prototype.reset = function reset() {\n    this.matrix = create(this.row, this.col);\n  };\n\n  Object.defineProperties(Matrix.prototype, prototypeAccessors$1);\n\n  function slice$1(ref) {\n    var block = ref.block;\n    var startX = ref.startX;\n    var endX = ref.endX;\n    var startY = ref.startY;\n    var endY = ref.endY;\n\n    var x = block.x;\n    var y = block.y;\n    var array = block.array;\n\n    var startCol = startX - x;\n    var endCol = endX - x;\n    var startRow = startY - y;\n    var endRow = endY - y;\n\n    return {\n      array: slice({ array: array, startCol: startCol, endCol: endCol, startRow: startRow, endRow: endRow }),\n      x: x,\n      y: y\n    };\n  }\n\n  function intersect$2(a, b) {\n    var ax = a.x;\n    var ay = a.y;\n    var aArray = a.array;\n    var aRow = aArray.length;\n    var aCol = aArray[0].length;\n    var aStartX = ax;\n    var aEndX = aStartX + aCol;\n    var aStartY = ay;\n    var aEndY = aStartY + aRow;\n\n    var bx = b.x;\n    var by = b.y;\n    var bArray = b.array;\n    var bRow = bArray.length;\n    var bCol = bArray[0].length;\n    var bStartX = bx;\n    var bEndX = bStartX + bCol;\n    var bStartY = by;\n    var bEndY = bStartY + bRow;\n\n    if (aEndX < bStartX || aEndY < bStartY) {\n      return false;\n    }\n    if (aStartX > bEndX || aStartY > bEndY) {\n      return false;\n    }\n\n    var startX = Math.max(aStartX, bStartX);\n    var startY = Math.max(aStartY, bStartY);\n    var endX = Math.min(aEndX, bEndX);\n    var endY = Math.min(aEndY, bEndY);\n\n    var slicedA = slice$1({\n      block: a,\n      startX: startX,\n      endX: endX,\n      startY: startY,\n      endY: endY\n    });\n\n    var slicedB = slice$1({\n      block: b,\n      startX: startX,\n      endX: endX,\n      startY: startY,\n      endY: endY\n    });\n\n    return intersect$$1(slicedA.array, slicedB.array);\n  }\n\n  function union$2(a, b) {\n    var ax = a.x;\n    var ay = a.y;\n    var aArray = a.array;\n    var aRow = aArray.length;\n    var aCol = aArray[0].length;\n    var aStartX = ax;\n    var aEndX = aStartX + aCol;\n    var aStartY = ay;\n    var aEndY = aStartY + aRow;\n\n    var bx = b.x;\n    var by = b.y;\n    var bArray = b.array;\n    var bRow = bArray.length;\n    var bCol = bArray[0].length;\n    var bStartX = bx;\n    var bEndX = bStartX + bCol;\n    var bStartY = by;\n    var bEndY = bStartY + bRow;\n\n    if (aEndX < bStartX || aEndY < bStartY) {\n      return a;\n    }\n    if (aStartX > bEndX || aStartY > bEndY) {\n      return a;\n    }\n\n    var startX = Math.max(aStartX, bStartX);\n    var startY = Math.max(aStartY, bStartY);\n    var endX = Math.min(aEndX, bEndX);\n    var endY = Math.min(aEndY, bEndY);\n\n    var slicedA = slice$1({\n      block: a,\n      startX: aStartX,\n      endX: aEndX,\n      startY: startY,\n      endY: endY\n    });\n\n    var slicedB = slice$1({\n      block: b,\n      startX: startX,\n      endX: endX,\n      startY: startY,\n      endY: endY\n    });\n\n    var unionedArray = union$1(slicedA.array, shift$1(slicedB.array, aEndX - endX));\n\n    var ret = copy(aArray);\n\n    ret.splice.apply(ret, [startY, endY - startY].concat(unionedArray));\n\n    return {\n      array: ret,\n      x: aStartX,\n      y: aStartY\n    };\n  }\n\n  var Shape = function Shape(shape) {\n    if (shape === void 0) shape = [];\n\n    this._shape = shape;\n    this._index = 0;\n\n    this.maxCol = this.maxRow = shape.length;\n\n    this._init();\n  };\n\n  var prototypeAccessors$3 = { shape: {}, index: {}, margin: {} };\n\n  Shape.prototype.clone = function clone() {\n    return new Shape(this._shape);\n  };\n\n  prototypeAccessors$3.shape.get = function () {\n    return this._shapes[this._index];\n  };\n\n  prototypeAccessors$3.index.get = function () {\n    return this._index;\n  };\n\n  prototypeAccessors$3.index.set = function (val) {\n    this._index = val;\n  };\n\n  prototypeAccessors$3.margin.get = function () {\n    var gutter = Array(this.maxCol).fill(0).join(\"\");\n    var shape = this.shape;\n\n    var check = function check(array) {\n      var start = 0;\n      var block = 0;\n      var end = 0;\n\n      array.map(function (a) {\n        return a.join(\"\");\n      }).forEach(function (a) {\n        if (a === gutter) {\n          if (!block) {\n            start++;\n          } else {\n            end++;\n          }\n        } else {\n          block++;\n        }\n      });\n\n      return {\n        start: start,\n        block: block,\n        end: end\n      };\n    };\n\n    var ref = check(shape);\n    var top = ref.start;\n    var row = ref.block;\n    var bottom = ref.end;\n    var ref$1 = check(rotate(shape));\n    var left = ref$1.start;\n    var col = ref$1.block;\n    var right = ref$1.end;\n\n    return {\n      top: top,\n      row: row,\n      bottom: bottom,\n\n      left: left,\n      col: col,\n      right: right\n    };\n  };\n\n  Shape.prototype.rotate = function rotate$$1(clockwise) {\n    if (clockwise === void 0) clockwise = true;\n\n    if (clockwise) {\n      this._index++;\n    } else {\n      this._index--;\n    }\n\n    var length = this._shapes.length;\n    if (this._index < 0) {\n      this._index = length - 1;\n    }\n\n    if (this._index >= length) {\n      this._index = 0;\n    }\n\n    return this.shape;\n  };\n\n  Shape.prototype._init = function _init() {\n    var ref = this;\n    var shape = ref._shape;\n    var shapes = [shape];\n    var lastShape = shape;\n\n    while (true) {\n      lastShape = rotate(lastShape);\n      if (equal(lastShape, shape)) {\n        break;\n      } else {\n        shapes.push(lastShape);\n      }\n    }\n\n    this._shapes = shapes;\n  };\n\n  Object.defineProperties(Shape.prototype, prototypeAccessors$3);\n\n  var shapes = {\n    I: [[0, 0, 0, 0], [0, 0, 0, 0], [1, 1, 1, 1], [0, 0, 0, 0]],\n\n    J: [[0, 0, 0], [1, 1, 1], [0, 0, 1]],\n\n    L: [[0, 0, 0], [1, 1, 1], [1, 0, 0]],\n\n    O: [[1, 1], [1, 1]],\n\n    S: [[0, 0, 0], [0, 1, 1], [1, 1, 0]],\n\n    T: [[0, 0, 0], [1, 1, 1], [0, 1, 0]],\n\n    Z: [[0, 0, 0], [1, 1, 0], [0, 1, 1]]\n  };\n\n  var _ = {};\n\n  for (var key in shapes) {\n    _[key] = new Shape(shapes[key]);\n  }\n\n  function create$1(type) {\n    if (!type) {\n      return pick(_);\n    } else {\n      return _[type].clone();\n    }\n  }\n\n  var Block = function Block(options) {\n    this._options = extend({\n      x: 0,\n      y: 0,\n      shape: create$1()\n    }, options);\n\n    this.x = this._options.x;\n    this.y = this._options.y;\n    this.shape = this._options.shape;\n  };\n\n  var prototypeAccessors$2 = { coordinate: {} };\n\n  prototypeAccessors$2.coordinate.get = function () {\n    return {\n      x: this.x,\n      y: this.y,\n      array: this.shape.shape\n    };\n  };\n\n  Block.prototype.moveBy = function moveBy(x, y) {\n    if (x === void 0) x = 0;\n    if (y === void 0) y = 0;\n\n    this.x += x;\n    this.y += y;\n  };\n\n  Block.prototype.moveTo = function moveTo(x, y) {\n    if (x === void 0) x = 0;\n    if (y === void 0) y = 0;\n\n    this.x = x;\n    this.y = y;\n  };\n\n  Block.prototype.rotate = function rotate(clockwise) {\n    if (clockwise === void 0) clockwise = true;\n\n    this.shape.rotate(clockwise);\n  };\n\n  Object.defineProperties(Block.prototype, prototypeAccessors$2);\n\n  var BlockMixin = function BlockMixin(Tetris) {\n    var proto = Tetris.prototype;\n\n    proto.drop = function () {\n      while (this.down()) {}\n    };\n\n    proto.down = function () {\n      if (this._failed) {\n        return false;\n      }\n      this.save();\n      this.block.moveBy(0, 1);\n      if (this._detectCollision()) {\n        this.restore();\n        this.emit(\"hit\");\n        return false;\n      } else {\n        this.emit(\"repaint\", this.graph);\n        return true;\n      }\n    };\n\n    proto.left = function () {\n      if (this._failed) {\n        return false;\n      }\n      this.save();\n      this.block.moveBy(-1, 0);\n      if (this._detectCollision()) {\n        this.restore();\n        this.emit(\"overflow:left\");\n        return false;\n      } else {\n        this.emit(\"repaint\", this.graph);\n        return true;\n      }\n    };\n\n    proto.right = function () {\n      if (this._failed) {\n        return false;\n      }\n      this.save();\n      this.block.moveBy(1, 0);\n      if (this._detectCollision()) {\n        this.restore();\n        this.emit(\"overflow:right\");\n        return false;\n      } else {\n        this.emit(\"repaint\", this.graph);\n        return true;\n      }\n    };\n\n    proto.rotate = function () {\n      if (this._failed) {\n        return false;\n      }\n      this.save();\n      this.block.rotate();\n      if (this._detectCollision()) {\n        this.restore();\n        this.emit(\"hit:rotate\");\n        return false;\n      } else {\n        this.emit(\"repaint\", this.graph);\n        return true;\n      }\n    };\n\n    proto.addBlock = function (block) {\n      if (this._failed) {\n        return false;\n      }\n\n      if (!block) {\n        block = new Block();\n      }\n\n      var ref = this.matrix;\n      var col = ref.col;\n      var row = ref.row;\n      var ref$1 = block.shape;\n      var margin = ref$1.margin;\n\n      var x = Math.floor((col - margin.col) / 2) - margin.left;\n      var y = 0 - margin.row - margin.top;\n\n      block.moveTo(x, y);\n\n      this.block = block;\n    };\n  };\n\n  var LoopMixin = function LoopMixin(Tetris) {\n    var proto = Tetris.prototype;\n\n    proto.reset = function () {\n      this.auto = this._options.auto;\n      this.speed = this._options.speed;\n      this.matrix = this._options.matrix;\n      this.matrix.reset();\n\n      this._paused = false;\n      this._failed = false;\n\n      this.addBlock();\n      this.pause();\n      this.resume();\n      this.emit('repaint', this.graph);\n    };\n\n    proto.pause = function () {\n      this._paused = true;\n      if (this._timeout) {\n        clearTimeout(this._timeout);\n        this._timeout = null;\n      }\n    };\n\n    proto.resume = function () {\n      this._paused = false;\n      if (!this._timeout) {\n        this._process();\n      }\n    };\n\n    proto.fail = function () {\n      this._failed = true;\n      this._paused = true;\n\n      this.emit('repaint', this.graph);\n      this.emit('failed');\n    };\n\n    proto.start = proto.reset;\n\n    proto._process = function () {\n      var instance = this;\n      var ref = this;\n      var auto = ref.auto;\n      var speed = ref.speed;\n      var loop = function loop() {\n        if (auto && speed && !instance._paused) {\n          instance._timeout = setTimeout(function () {\n            instance.down();\n            loop();\n          }, speed);\n        }\n      };\n\n      loop();\n    };\n\n    proto._next = function () {\n      this._union();\n      this._clearLines();\n      this.addBlock();\n    };\n  };\n\n  var EventsMixin = function EventsMixin(Tetris) {\n    var proto = Tetris.prototype;\n\n    proto.on = function (event, handler) {\n      if (!this._events[event]) {\n        this._events[event] = [];\n      }\n\n      this._events[event].push(handler);\n    };\n\n    proto.emit = function (event) {\n      var args = [],\n          len = arguments.length - 1;\n      while (len-- > 0) {\n        args[len] = arguments[len + 1];\n      }var fns = this._events[event] || [];\n      var instance = this;\n      fns.forEach(function (fn) {\n        fn.apply(instance, args);\n      });\n    };\n  };\n\n  var StateMixin = function StateMixin(Tetris) {\n    var proto = Tetris.prototype;\n\n    proto.save = function () {\n      this._lastState = {\n        matrix: {\n          x: this.matrix.x,\n          y: this.matrix.y,\n          matrix: copy(this.matrix.matrix)\n        },\n        block: {\n          x: this.block.x,\n          y: this.block.y,\n          index: this.block.shape.index\n        }\n      };\n    };\n\n    proto.restore = function () {\n      var ref = this._lastState;\n      var matrix = ref.matrix;\n      var block = ref.block;\n\n      this.matrix.x = matrix.x;\n      this.matrix.y = matrix.y;\n      this.matrix.matrix = copy(matrix.matrix);\n\n      this.block.x = block.x;\n      this.block.y = block.y;\n      this.block.shape.index = block.index;\n    };\n  };\n\n  var KeyboardMixin = function KeyboardMixin(Tetris) {\n    var proto = Tetris.prototype;\n\n    proto._bind = function () {\n      var instance = this;\n      document.addEventListener(\"keydown\", function (e) {\n        switch (e.which) {\n          case 32:\n            instance.down();\n            break;\n          case 37:\n            instance.left();\n            break;\n          case 38:\n            instance.rotate();\n            break;\n          case 39:\n            instance.right();\n            break;\n          case 40:\n            instance.down();\n            break;\n          default:\n            break;\n        }\n      });\n    };\n  };\n\n  var MatrixMixin = function MatrixMixin(Tetris) {\n    var proto = Tetris.prototype;\n\n    proto._union = function () {\n      this.matrix.matrix = union$2(this.matrix.coordinate, this.block.coordinate).array;\n    };\n\n    proto._clearLines = function () {\n      var ref = this.matrix;\n      var matrix = ref.matrix;\n      var length = matrix.length;\n\n      var ret = [];\n      var lines = [];\n\n      for (var i = length - 1; i >= 0; i--) {\n        var array = matrix[i];\n\n        var isEmpty = true;\n        var isFull = true;\n\n        for (var j = 0, l = array.length; j < l; j++) {\n          array[j] ? isEmpty = false : isFull = false;\n          if (!isEmpty && !isFull) {\n            break;\n          }\n        }\n\n        if (isFull) {\n          lines.unshift(i);\n        } else {\n          ret.unshift(array);\n        }\n      }\n\n      if (lines.length) {\n        this.emit(\"clear:lines\", lines);\n      }\n\n      this.matrix.matrix = padTop(ret, length);\n\n      return lines;\n    };\n  };\n\n  var DetectMixin = function DetectMixin(Tetris) {\n    var proto = Tetris.prototype;\n\n    proto._detectCollision = function () {\n      var ref = this;\n      var matrix = ref.matrix;\n      var block = ref.block;\n      // OVERFLOW\n      var left = matrix.x;\n      var right = matrix.x + matrix.col;\n      var bottom = matrix.y + matrix.row;\n\n      var ref$1 = block.coordinate;\n      var x = ref$1.x;\n      var y = ref$1.y;\n      var ref$2 = block.shape;\n      var margin = ref$2.margin;\n\n      if (x + margin.left < left) {\n        return true;\n      }\n\n      if (x + margin.left + margin.col > right) {\n        return true;\n      }\n\n      // HIT\n\n      if (y + margin.top + margin.row > bottom) {\n        return true;\n      }\n\n      if (intersect$2(this.matrix.coordinate, this.block.coordinate)) {\n        return true;\n      }\n\n      return false;\n    };\n  };\n\n  var Tetris = function Tetris(options) {\n    var this$1 = this;\n\n    this._options = extend({\n      matrix: new Matrix(),\n      auto: true,\n      speed: 500\n    }, options);\n\n    this._events = {};\n\n    this._bind();\n\n    this.reset();\n\n    this.on(\"hit\", function () {\n      var ref = this$1.block;\n      var y = ref.y;\n      var ref$1 = this$1.block.shape;\n      var margin = ref$1.margin;\n\n      if (y + margin.top < this$1.matrix.y) {\n        this$1.fail();\n      } else {\n        this$1._next();\n      }\n    });\n  };\n\n  var prototypeAccessors = { graph: {} };\n\n  prototypeAccessors.graph.get = function () {\n    var ref = this.block;\n    var block = ref.coordinate;\n    var ref$1 = this.matrix;\n    var matrix = ref$1.coordinate;\n\n    return union$2(matrix, block);\n  };\n\n  Object.defineProperties(Tetris.prototype, prototypeAccessors);\n\n  LoopMixin(Tetris);\n  BlockMixin(Tetris);\n  EventsMixin(Tetris);\n  StateMixin(Tetris);\n  KeyboardMixin(Tetris);\n  MatrixMixin(Tetris);\n  DetectMixin(Tetris);\n\n  exports.Tetris = Tetris;\n  exports.Shape = Shape;\n  exports.Block = Block;\n  exports.Matrix = Matrix;\n  exports['default'] = Tetris;\n\n  Object.defineProperty(exports, '__esModule', { value: true });\n});\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _tetris = __webpack_require__(2);\n\nexports.default = {\n  name: 'tetris',\n\n  data: function data() {\n    return {\n      tetris: null,\n      graph: Array(15).fill(Array(15)),\n      _pasued: false\n    };\n  },\n  mounted: function mounted() {\n    this.init();\n  },\n\n\n  methods: {\n    init: function init() {\n      var _this = this;\n\n      this.tetris = new _tetris.Tetris({\n        matrix: new _tetris.Matrix({\n          row: 15,\n          col: 15\n        })\n      });\n\n      this.tetris.on('repaint', function (graph) {\n        _this.graph = graph.array;\n      });\n\n      this.tetris.on('failed', function () {\n        alert('Failed!');\n      });\n    },\n    start: function start() {\n      this._pasued = false;\n      this.tetris.start();\n    },\n    pause: function pause() {\n      if (this._pasued) {\n        this._pasued = false;\n        this.tetris.resume();\n      } else {\n        this._pasued = true;\n        this.tetris.pause();\n      }\n    }\n  }\n}; //\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _runtime = __webpack_require__(10);\n\nvar _runtime2 = _interopRequireDefault(_runtime);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_runtime2.default.install({\n  // When an update is ready, tell ServiceWorker to take control immediately:\n  onUpdateReady: function onUpdateReady() {\n    console.log('update ready');\n    _runtime2.default.applyUpdate();\n  },\n\n\n  // Reload to get the new version:\n  onUpdated: function onUpdated() {\n    console.log('updated');\n    location.reload();\n  }\n});\n\n/***/ }),\n/* 5 */,\n/* 6 */,\n/* 7 */\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n/* 8 */,\n/* 9 */,\n/* 10 */,\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(7)\n\nvar Component = __webpack_require__(12)(\n  /* script */\n  __webpack_require__(3),\n  /* template */\n  __webpack_require__(13),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n/* 12 */,\n/* 13 */\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('div', {\n    staticClass: \"game\"\n  }, [_c('ul', {\n    staticClass: \"row\"\n  }, _vm._l((_vm.graph), function(row) {\n    return _c('li', [_c('ul', {\n      staticClass: \"col\"\n    }, _vm._l((row), function(col) {\n      return _c('li', {\n        staticClass: \"rect\",\n        class: {\n          'filled': col\n        }\n      }, [_c('div')])\n    }))])\n  }))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"controls\"\n  }, [_c('div', {\n    staticClass: \"left\"\n  }, [_c('div', {\n    staticClass: \"loop\"\n  }, [_c('div', {\n    staticClass: \"flex-center\",\n    on: {\n      \"click\": _vm.pause\n    }\n  }, [_c('a', {\n    staticClass: \"button\"\n  }, [_vm._v(\"P\")]), _vm._v(\" \"), _c('span', [_vm._v(\"pause\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"flex-center\",\n    on: {\n      \"click\": function($event) {\n        _vm.tetris.reset()\n      }\n    }\n  }, [_c('a', {\n    staticClass: \"button\"\n  }, [_vm._v(\"R\")]), _vm._v(\" \"), _c('span', [_vm._v(\"Reset\")])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"drop\",\n    on: {\n      \"click\": function($event) {\n        _vm.tetris.drop()\n      }\n    }\n  }, [_c('a', {\n    staticClass: \"button\"\n  }, [_vm._v(\"D\")]), _vm._v(\" \"), _c('span', [_vm._v(\"Drop(space)\")])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"right\"\n  }, [_c('div', [_c('div', {\n    staticClass: \"flex-center\",\n    on: {\n      \"click\": function($event) {\n        _vm.tetris.rotate()\n      }\n    }\n  }, [_c('a', {\n    staticClass: \"button\"\n  }, [_vm._v(\"O\")]), _vm._v(\" \"), _c('span', [_vm._v(\"Rotate(up)\")])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"flex-space-around\"\n  }, [_c('div', {\n    staticClass: \"flex-center\",\n    on: {\n      \"click\": function($event) {\n        _vm.tetris.left()\n      }\n    }\n  }, [_c('a', {\n    staticClass: \"button\"\n  }, [_vm._v(\"L\")]), _vm._v(\" \"), _c('span', [_vm._v(\"Left(left)\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"flex-center\",\n    on: {\n      \"click\": function($event) {\n        _vm.tetris.right()\n      }\n    }\n  }, [_c('a', {\n    staticClass: \"button\"\n  }, [_vm._v(\"R\")]), _vm._v(\" \"), _c('span', [_vm._v(\"Right(right)\")])])]), _vm._v(\" \"), _c('div', [_c('div', {\n    staticClass: \"flex-center\",\n    on: {\n      \"click\": function($event) {\n        _vm.tetris.down()\n      }\n    }\n  }, [_c('a', {\n    staticClass: \"button\"\n  }, [_vm._v(\"D\")]), _vm._v(\" \"), _c('span', [_vm._v(\"Down(down)\")])])])])]), _vm._v(\" \"), _vm._m(0)])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('p', [_vm._v(\"Powered by \"), _c('a', {\n    attrs: {\n      \"href\": \"//github.com/wasd-org/wasd-tetris\"\n    }\n  }, [_vm._v(\"wasd-tetris\")])])\n}]}\n\n/***/ }),\n/* 14 */,\n/* 15 */,\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(1);\n\n\n/***/ })\n],[16]);\n\n\n// WEBPACK FOOTER //\n// client.d6de0bf5.js","import Vue from 'vue'\n// @ is the path to `./src` folder\nimport App from '@/components/App'\n\nif (process.env.NODE_ENV === 'production') {\n  require('./pwa')\n}\n\nnew Vue({\n  el: '#app',\n  render: h => h(App)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/*!\n * (c) 2016-2017 WASD-ORG\n * Released under the MIT License.\n */\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.WASD_Tetris = global.WASD_Tetris || {})));\n}(this, (function (exports) { 'use strict';\n\nfunction extend(to, from) {\n  if ( to === void 0 ) to = {};\n  if ( from === void 0 ) from = {};\n\n  for (var key in from) {\n    to[key] = from[key];\n  }\n  return to;\n}\n\nfunction pick(object) {\n  var array = Object.keys(object);\n  var index = Math.floor(Math.random() * array.length);\n\n  return object[array[index]];\n}\n\nfunction transpose(array) {\n  var row = array.length;\n  var col = array[0].length;\n\n  if (!row || !col) {\n    return array;\n  }\n\n  var ret = [];\n\n  for (var i = 0; i < col; i++) {\n    ret.push([]);\n    for (var j = 0; j < row; j++) {\n      ret[i][j] = array[j][i];\n    }\n  }\n\n  return ret;\n}\n\nfunction copy(array) {\n  return array.map(function (a) { return a.slice(); });\n}\n\nfunction reverseRow(array) {\n  return copy(array).map(function (a) { return a.reverse(); });\n}\n\nfunction reverseCol(array) {\n  return copy(array).reverse();\n}\n\nfunction rotate(array, clockwise) {\n  if ( clockwise === void 0 ) clockwise = true;\n\n  var transposed = transpose(array);\n  if (clockwise) {\n    return reverseRow(transposed);\n  } else {\n    return reverseCol(transposed);\n  }\n}\n\n// export function equal (a, b) {\n//   const aLength = a.length\n//   const bLength = b.length\n\n//   if (aLength !== bLength) {\n//     return false\n//   }\n\n//   for (let i = 0; i < aLength; i++) {\n//     const aArray = a[i]\n//     const bArray = b[i]\n\n//     const aArrayLength = aArray.length\n//     const bArrayLength = bArray.length\n\n//     if (aArrayLength !== bArrayLength) {\n//       return false\n//     }\n\n//     for (let j = 0; j < aArrayLength; j++) {\n//       if (aArray[j] !== bArray[j]) {\n//         return false\n//       }\n//     }\n//   }\n\n//   return true\n// }\n\nfunction equal(a, b) {\n  return JSON.stringify(a) === JSON.stringify(b);\n}\n\nfunction create(row, col, fill) {\n  if ( fill === void 0 ) fill = 0;\n\n  var ret = [];\n\n  for (var i = 0; i < row; i++) {\n    ret.push([]);\n\n    for (var j = 0; j < col; j++) {\n      ret[i].push(fill);\n    }\n  }\n\n  return ret;\n}\n\nfunction slice(ref) {\n  var array = ref.array;\n  var startRow = ref.startRow;\n  var endRow = ref.endRow;\n  var startCol = ref.startCol;\n  var endCol = ref.endCol;\n\n  var row = array.length;\n  var col = array[0].length;\n  if (!row || !col) { return; }\n\n  startRow = Math.min(Math.max(0, startRow), row);\n  startCol = Math.min(Math.max(0, startCol), col);\n  endRow = Math.min(Math.max(0, endRow), row);\n  endCol = Math.min(Math.max(0, endCol), col);\n\n  var ret = [];\n\n  for (var i = 0, rowLength = endRow - startRow; i < rowLength; i++) {\n    ret.push([]);\n    for (var j = 0, colLength = endCol - startCol; j < colLength; j++) {\n      ret[i].push(array[i + startRow][j + startCol]);\n    }\n  }\n\n  return ret;\n}\n\nfunction padStart(array, targetLength, pad) {\n  if ( targetLength === void 0 ) targetLength = 0;\n  if ( pad === void 0 ) pad = 0;\n\n  var length = array.length;\n\n  if (length > targetLength) {\n    return array.slice();\n  }\n\n  var extra = Array(targetLength - length).fill(pad);\n\n  return extra.concat(array);\n}\n\nfunction padEnd(array, targetLength, pad) {\n  if ( pad === void 0 ) pad = 0;\n\n  var length = array.length;\n\n  if (length > targetLength) {\n    return array.slice();\n  }\n\n  var extra = Array(targetLength - length).fill(pad);\n\n  return array.concat(extra);\n}\n\nfunction shift(array, offset, pad) {\n  if ( offset === void 0 ) offset = 0;\n  if ( pad === void 0 ) pad = 0;\n\n  var length = array.length;\n  if (offset >= 0) {\n    return padEnd(array, length + offset, pad);\n  }\n\n  var count = -offset;\n\n  if (count > length) {\n    return [];\n  }\n\n  return array.slice(0, length - count);\n}\n\nfunction intersect$1(a, b) {\n  var aLength = a.length;\n  var bLength = b.length;\n  var offset = aLength - bLength;\n\n  var newA = a.slice();\n  var newB = b.slice();\n\n  if (offset > 0) {\n    newB = padStart(newB, aLength);\n  } else if (offset < 0) {\n    newA = padStart(newA, bLength);\n  }\n\n  for (var i = 0, l = newA.length; i < l; i++) {\n    if (newA[i] && newB[i]) { return true; }\n  }\n\n  return false;\n}\n\nfunction union(a, b) {\n  var aLength = a.length;\n  var bLength = b.length;\n  var offset = aLength - bLength;\n\n  var newA = a.slice();\n  var newB = b.slice();\n\n  if (offset > 0) {\n    newB = padStart(newB, aLength);\n  } else if (offset < 0) {\n    newA = padStart(newA, bLength);\n  }\n\n  var ret = [];\n\n  for (var i = 0, l = newA.length; i < l; i++) {\n    ret[i] = newB[i] || newA[i];\n  }\n\n  return ret;\n}\n\nfunction intersect$$1(a, b) {\n  var length = Math.min(a.length, b.length);\n  for (var i = 0, l = length; i < l; i++) {\n    if (intersect$1(a[i], b[i])) { return true; }\n  }\n\n  return false;\n}\n\nfunction shift$1(array, offset, fill) {\n  if ( offset === void 0 ) offset = 0;\n  if ( fill === void 0 ) fill = 0;\n\n  return array.map(function (a) { return shift(a, offset, fill); });\n}\n\nfunction padTop(array, length, fill) {\n  if ( fill === void 0 ) fill = 0;\n\n  array = copy(array);\n  var l = array.length;\n  if (!l) { return array; }\n  var row = length - l;\n  var col = array[0].length;\n\n  if (row <= 0 || col <= 0) { return array; }\n\n  return create(row, col, fill).concat(array);\n}\n\nfunction union$1(a, b) {\n  var ret = copy(a);\n\n  for (var i = 0, l = Math.min(a.length, b.length); i < l; i++) {\n    ret[i] = union(a[i], b[i]);\n  }\n\n  return ret;\n}\n\nvar Matrix = function Matrix(options) {\n  this._options = extend(\n    {\n      row: 20,\n      col: 10,\n      x: 0,\n      y: 0,\n    },\n    options\n  );\n\n  this.x = this._options.x;\n  this.y = this._options.y;\n  this.row = this._options.row;\n  this.col = this._options.col;\n\n  this.reset();\n};\n\nvar prototypeAccessors$1 = { coordinate: {} };\n\nprototypeAccessors$1.coordinate.get = function () {\n  return {\n    x: this.x,\n    y: this.y,\n    array: this.matrix,\n  };\n};\n\nMatrix.prototype.reset = function reset () {\n  this.matrix = create(this.row, this.col);\n};\n\nObject.defineProperties( Matrix.prototype, prototypeAccessors$1 );\n\nfunction slice$1(ref) {\n  var block = ref.block;\n  var startX = ref.startX;\n  var endX = ref.endX;\n  var startY = ref.startY;\n  var endY = ref.endY;\n\n  var x = block.x;\n  var y = block.y;\n  var array = block.array;\n\n  var startCol = startX - x;\n  var endCol = endX - x;\n  var startRow = startY - y;\n  var endRow = endY - y;\n\n  return {\n    array: slice({ array: array, startCol: startCol, endCol: endCol, startRow: startRow, endRow: endRow }),\n    x: x,\n    y: y,\n  };\n}\n\nfunction intersect$2(a, b) {\n  var ax = a.x;\n  var ay = a.y;\n  var aArray = a.array;\n  var aRow = aArray.length;\n  var aCol = aArray[0].length;\n  var aStartX = ax;\n  var aEndX = aStartX + aCol;\n  var aStartY = ay;\n  var aEndY = aStartY + aRow;\n\n  var bx = b.x;\n  var by = b.y;\n  var bArray = b.array;\n  var bRow = bArray.length;\n  var bCol = bArray[0].length;\n  var bStartX = bx;\n  var bEndX = bStartX + bCol;\n  var bStartY = by;\n  var bEndY = bStartY + bRow;\n\n  if (aEndX < bStartX || aEndY < bStartY) { return false; }\n  if (aStartX > bEndX || aStartY > bEndY) { return false; }\n\n  var startX = Math.max(aStartX, bStartX);\n  var startY = Math.max(aStartY, bStartY);\n  var endX = Math.min(aEndX, bEndX);\n  var endY = Math.min(aEndY, bEndY);\n\n  var slicedA = slice$1({\n    block: a,\n    startX: startX,\n    endX: endX,\n    startY: startY,\n    endY: endY,\n  });\n\n  var slicedB = slice$1({\n    block: b,\n    startX: startX,\n    endX: endX,\n    startY: startY,\n    endY: endY,\n  });\n\n  return intersect$$1(slicedA.array, slicedB.array);\n}\n\nfunction union$2(a, b) {\n  var ax = a.x;\n  var ay = a.y;\n  var aArray = a.array;\n  var aRow = aArray.length;\n  var aCol = aArray[0].length;\n  var aStartX = ax;\n  var aEndX = aStartX + aCol;\n  var aStartY = ay;\n  var aEndY = aStartY + aRow;\n\n  var bx = b.x;\n  var by = b.y;\n  var bArray = b.array;\n  var bRow = bArray.length;\n  var bCol = bArray[0].length;\n  var bStartX = bx;\n  var bEndX = bStartX + bCol;\n  var bStartY = by;\n  var bEndY = bStartY + bRow;\n\n  if (aEndX < bStartX || aEndY < bStartY) { return a; }\n  if (aStartX > bEndX || aStartY > bEndY) { return a; }\n\n  var startX = Math.max(aStartX, bStartX);\n  var startY = Math.max(aStartY, bStartY);\n  var endX = Math.min(aEndX, bEndX);\n  var endY = Math.min(aEndY, bEndY);\n\n  var slicedA = slice$1({\n    block: a,\n    startX: aStartX,\n    endX: aEndX,\n    startY: startY,\n    endY: endY,\n  });\n\n  var slicedB = slice$1({\n    block: b,\n    startX: startX,\n    endX: endX,\n    startY: startY,\n    endY: endY,\n  });\n\n  var unionedArray = union$1(\n    slicedA.array,\n    shift$1(slicedB.array, aEndX - endX)\n  );\n\n  var ret = copy(aArray);\n\n  ret.splice.apply(ret, [ startY, endY - startY ].concat( unionedArray ));\n\n  return {\n    array: ret,\n    x: aStartX,\n    y: aStartY,\n  };\n}\n\nvar Shape = function Shape(shape) {\n  if ( shape === void 0 ) shape = [];\n\n  this._shape = shape;\n  this._index = 0;\n\n  this.maxCol = (this.maxRow = shape.length);\n\n  this._init();\n};\n\nvar prototypeAccessors$3 = { shape: {},index: {},margin: {} };\n\nShape.prototype.clone = function clone () {\n  return new Shape(this._shape);\n};\n\nprototypeAccessors$3.shape.get = function () {\n  return this._shapes[this._index];\n};\n\nprototypeAccessors$3.index.get = function () {\n  return this._index;\n};\n\nprototypeAccessors$3.index.set = function (val) {\n  this._index = val;\n};\n\nprototypeAccessors$3.margin.get = function () {\n  var gutter = Array(this.maxCol).fill(0).join(\"\");\n  var shape = this.shape;\n\n  var check = function (array) {\n    var start = 0;\n    var block = 0;\n    var end = 0;\n\n    array.map(function (a) { return a.join(\"\"); }).forEach(function (a) {\n      if (a === gutter) {\n        if (!block) {\n          start++;\n        } else {\n          end++;\n        }\n      } else {\n        block++;\n      }\n    });\n\n    return {\n      start: start,\n      block: block,\n      end: end,\n    };\n  };\n\n  var ref = check(shape);\n    var top = ref.start;\n    var row = ref.block;\n    var bottom = ref.end;\n  var ref$1 = check(rotate(shape));\n    var left = ref$1.start;\n    var col = ref$1.block;\n    var right = ref$1.end;\n\n  return {\n    top: top,\n    row: row,\n    bottom: bottom,\n\n    left: left,\n    col: col,\n    right: right,\n  };\n};\n\nShape.prototype.rotate = function rotate$$1 (clockwise) {\n    if ( clockwise === void 0 ) clockwise = true;\n\n  if (clockwise) {\n    this._index++;\n  } else {\n    this._index--;\n  }\n\n  var length = this._shapes.length;\n  if (this._index < 0) {\n    this._index = length - 1;\n  }\n\n  if (this._index >= length) {\n    this._index = 0;\n  }\n\n  return this.shape;\n};\n\nShape.prototype._init = function _init () {\n  var ref = this;\n    var shape = ref._shape;\n  var shapes = [shape];\n  var lastShape = shape;\n\n  while (true) {\n    lastShape = rotate(lastShape);\n    if (equal(lastShape, shape)) {\n      break;\n    } else {\n      shapes.push(lastShape);\n    }\n  }\n\n  this._shapes = shapes;\n};\n\nObject.defineProperties( Shape.prototype, prototypeAccessors$3 );\n\nvar shapes = {\n  I: [[0, 0, 0, 0], [0, 0, 0, 0], [1, 1, 1, 1], [0, 0, 0, 0]],\n\n  J: [[0, 0, 0], [1, 1, 1], [0, 0, 1]],\n\n  L: [[0, 0, 0], [1, 1, 1], [1, 0, 0]],\n\n  O: [[1, 1], [1, 1]],\n\n  S: [[0, 0, 0], [0, 1, 1], [1, 1, 0]],\n\n  T: [[0, 0, 0], [1, 1, 1], [0, 1, 0]],\n\n  Z: [[0, 0, 0], [1, 1, 0], [0, 1, 1]],\n};\n\nvar _ = {};\n\nfor (var key in shapes) {\n  _[key] = new Shape(shapes[key]);\n}\n\nfunction create$1(type) {\n  if (!type) {\n    return pick(_);\n  } else {\n    return _[type].clone();\n  }\n}\n\nvar Block = function Block(options) {\n  this._options = extend(\n    {\n      x: 0,\n      y: 0,\n      shape: create$1(),\n    },\n    options\n  );\n\n  this.x = this._options.x;\n  this.y = this._options.y;\n  this.shape = this._options.shape;\n};\n\nvar prototypeAccessors$2 = { coordinate: {} };\n\nprototypeAccessors$2.coordinate.get = function () {\n  return {\n    x: this.x,\n    y: this.y,\n    array: this.shape.shape,\n  };\n};\n\nBlock.prototype.moveBy = function moveBy (x, y) {\n    if ( x === void 0 ) x = 0;\n    if ( y === void 0 ) y = 0;\n\n  this.x += x;\n  this.y += y;\n};\n\nBlock.prototype.moveTo = function moveTo (x, y) {\n    if ( x === void 0 ) x = 0;\n    if ( y === void 0 ) y = 0;\n\n  this.x = x;\n  this.y = y;\n};\n\nBlock.prototype.rotate = function rotate (clockwise) {\n    if ( clockwise === void 0 ) clockwise = true;\n\n  this.shape.rotate(clockwise);\n};\n\nObject.defineProperties( Block.prototype, prototypeAccessors$2 );\n\nvar BlockMixin = function(Tetris) {\n  var proto = Tetris.prototype;\n\n  proto.drop = function() {\n    while (this.down()) {}\n  };\n\n  proto.down = function() {\n    if (this._failed) { return false; }\n    this.save();\n    this.block.moveBy(0, 1);\n    if (this._detectCollision()) {\n      this.restore();\n      this.emit(\"hit\");\n      return false;\n    } else {\n      this.emit(\"repaint\", this.graph);\n      return true;\n    }\n  };\n\n  proto.left = function() {\n    if (this._failed) { return false; }\n    this.save();\n    this.block.moveBy(-1, 0);\n    if (this._detectCollision()) {\n      this.restore();\n      this.emit(\"overflow:left\");\n      return false;\n    } else {\n      this.emit(\"repaint\", this.graph);\n      return true;\n    }\n  };\n\n  proto.right = function() {\n    if (this._failed) { return false; }\n    this.save();\n    this.block.moveBy(1, 0);\n    if (this._detectCollision()) {\n      this.restore();\n      this.emit(\"overflow:right\");\n      return false;\n    } else {\n      this.emit(\"repaint\", this.graph);\n      return true;\n    }\n  };\n\n  proto.rotate = function() {\n    if (this._failed) { return false; }\n    this.save();\n    this.block.rotate();\n    if (this._detectCollision()) {\n      this.restore();\n      this.emit(\"hit:rotate\");\n      return false;\n    } else {\n      this.emit(\"repaint\", this.graph);\n      return true;\n    }\n  };\n\n  proto.addBlock = function(block) {\n    if (this._failed) { return false; }\n\n    if (!block) {\n      block = new Block();\n    }\n\n    var ref = this.matrix;\n    var col = ref.col;\n    var row = ref.row;\n    var ref$1 = block.shape;\n    var margin = ref$1.margin;\n\n    var x = Math.floor((col - margin.col) / 2) - margin.left;\n    var y = 0 - margin.row - margin.top;\n\n    block.moveTo(x, y);\n\n    this.block = block;\n  };\n};\n\nvar LoopMixin = function(Tetris) {\n  var proto = Tetris.prototype;\n\n  proto.reset = function() {\n    this.auto = this._options.auto;\n    this.speed = this._options.speed;\n    this.matrix = this._options.matrix;\n    this.matrix.reset();\n\n    this._paused = false;\n    this._failed = false;\n\n    this.addBlock();\n    this.pause();\n    this.resume();\n    this.emit('repaint', this.graph);\n  };\n\n  proto.pause = function() {\n    this._paused = true;\n    if (this._timeout) {\n      clearTimeout(this._timeout);\n      this._timeout = null;\n    }\n  };\n\n  proto.resume = function() {\n    this._paused = false;\n    if (!this._timeout) {\n      this._process();\n    }\n  };\n\n  proto.fail = function() {\n    this._failed = true;\n    this._paused = true;\n\n    this.emit('repaint', this.graph);\n    this.emit('failed');\n  };\n\n  proto.start = proto.reset;\n\n  proto._process = function() {\n    var instance = this;\n    var ref = this;\n    var auto = ref.auto;\n    var speed = ref.speed;\n    var loop = function () {\n      if (auto && speed && !instance._paused) {\n        instance._timeout = setTimeout(\n          function () {\n            instance.down();\n            loop();\n          },\n          speed\n        );\n      }\n    };\n\n    loop();\n  };\n\n  proto._next = function() {\n    this._union();\n    this._clearLines();\n    this.addBlock();\n  };\n};\n\nvar EventsMixin = function(Tetris) {\n  var proto = Tetris.prototype;\n\n  proto.on = function(event, handler) {\n    if (!this._events[event]) {\n      this._events[event] = [];\n    }\n\n    this._events[event].push(handler);\n  };\n\n  proto.emit = function(event) {\n    var args = [], len = arguments.length - 1;\n    while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n    var fns = this._events[event] || [];\n    var instance = this;\n    fns.forEach(function (fn) {\n      fn.apply(instance, args);\n    });\n  };\n};\n\nvar StateMixin = function(Tetris) {\n  var proto = Tetris.prototype;\n\n  proto.save = function() {\n    this._lastState = {\n      matrix: {\n        x: this.matrix.x,\n        y: this.matrix.y,\n        matrix: copy(this.matrix.matrix),\n      },\n      block: {\n        x: this.block.x,\n        y: this.block.y,\n        index: this.block.shape.index,\n      },\n    };\n  };\n\n  proto.restore = function() {\n    var ref = this._lastState;\n    var matrix = ref.matrix;\n    var block = ref.block;\n\n    this.matrix.x = matrix.x;\n    this.matrix.y = matrix.y;\n    this.matrix.matrix = copy(matrix.matrix);\n\n    this.block.x = block.x;\n    this.block.y = block.y;\n    this.block.shape.index = block.index;\n  };\n};\n\nvar KeyboardMixin = function(Tetris) {\n  var proto = Tetris.prototype;\n\n  proto._bind = function() {\n    var instance = this;\n    document.addEventListener(\"keydown\", function (e) {\n      switch (e.which) {\n        case 32:\n          instance.down();\n          break;\n        case 37:\n          instance.left();\n          break;\n        case 38:\n          instance.rotate();\n          break;\n        case 39:\n          instance.right();\n          break;\n        case 40:\n          instance.down();\n          break;\n        default:\n          break;\n      }\n    });\n  };\n};\n\nvar MatrixMixin = function(Tetris) {\n  var proto = Tetris.prototype;\n\n  proto._union = function() {\n    this.matrix.matrix = union$2(\n      this.matrix.coordinate,\n      this.block.coordinate\n    ).array;\n  };\n\n  proto._clearLines = function() {\n    var ref = this.matrix;\n    var matrix = ref.matrix;\n    var length = matrix.length;\n\n    var ret = [];\n    var lines = [];\n\n    for (var i = length - 1; i >= 0; i--) {\n      var array = matrix[i];\n\n      var isEmpty = true;\n      var isFull = true;\n\n      for (var j = 0, l = array.length; j < l; j++) {\n        array[j] ? (isEmpty = false) : (isFull = false);\n        if (!isEmpty && !isFull) { break; }\n      }\n\n      if (isFull) {\n        lines.unshift(i);\n      } else {\n        ret.unshift(array);\n      }\n    }\n\n    if (lines.length) {\n      this.emit(\"clear:lines\", lines);\n    }\n\n    this.matrix.matrix = padTop(ret, length);\n\n    return lines;\n  };\n};\n\nvar DetectMixin = function(Tetris) {\n  var proto = Tetris.prototype;\n\n  proto._detectCollision = function() {\n    var ref = this;\n    var matrix = ref.matrix;\n    var block = ref.block;\n    // OVERFLOW\n    var left = matrix.x;\n    var right = matrix.x + matrix.col;\n    var bottom = matrix.y + matrix.row;\n\n    var ref$1 = block.coordinate;\n    var x = ref$1.x;\n    var y = ref$1.y;\n    var ref$2 = block.shape;\n    var margin = ref$2.margin;\n\n    if (x + margin.left < left) {\n      return true;\n    }\n\n    if (x + margin.left + margin.col > right) {\n      return true;\n    }\n\n    // HIT\n\n    if (y + margin.top + margin.row > bottom) {\n      return true;\n    }\n\n    if (intersect$2(this.matrix.coordinate, this.block.coordinate)) {\n      return true;\n    }\n\n    return false;\n  };\n};\n\nvar Tetris = function Tetris(options) {\n  var this$1 = this;\n\n  this._options = extend(\n    {\n      matrix: new Matrix(),\n      auto: true,\n      speed: 500,\n    },\n    options\n  );\n\n  this._events = {};\n\n  this._bind();\n\n  this.reset();\n\n  this.on(\"hit\", function () {\n    var ref = this$1.block;\n    var y = ref.y;\n    var ref$1 = this$1.block.shape;\n    var margin = ref$1.margin;\n\n    if (y + margin.top < this$1.matrix.y) {\n      this$1.fail();\n    } else {\n      this$1._next();\n    }\n  });\n};\n\nvar prototypeAccessors = { graph: {} };\n\nprototypeAccessors.graph.get = function () {\n  var ref = this.block;\n    var block = ref.coordinate;\n  var ref$1 = this.matrix;\n    var matrix = ref$1.coordinate;\n\n  return union$2(matrix, block);\n};\n\nObject.defineProperties( Tetris.prototype, prototypeAccessors );\n\nLoopMixin(Tetris);\nBlockMixin(Tetris);\nEventsMixin(Tetris);\nStateMixin(Tetris);\nKeyboardMixin(Tetris);\nMatrixMixin(Tetris);\nDetectMixin(Tetris);\n\nexports.Tetris = Tetris;\nexports.Shape = Shape;\nexports.Block = Block;\nexports.Matrix = Matrix;\nexports['default'] = Tetris;\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\n})));\n\n\n\n// WEBPACK FOOTER //\n// /Users/liril/Documents/Dev/liril/wasd-tetris/dist/tetris.js","<template>\n  <div id=\"app\">\n    <div class=\"game\">\n      <ul class=\"row\">\n        <li v-for=\"row in graph\">\n          <ul class=\"col\">\n            <li\n              v-for=\"col in row\"\n              class=\"rect\"\n              :class=\"{ 'filled' : col }\">\n              <div></div>\n            </li>\n          </ul>\n        </li>\n      </ul>\n    </div>\n\n    <div class=\"controls\">\n      <div class=\"left\">\n        <div class=\"loop\">\n          <div class=\"flex-center\" @click=\"pause\">\n            <a class=\"button\">P</a>\n            <span>pause</span>\n          </div>\n          <div class=\"flex-center\" @click=\"tetris.reset()\">\n            <a class=\"button\">R</a>\n            <span>Reset</span>\n          </div>\n        </div>\n\n        <div class=\"drop\" @click=\"tetris.drop()\">\n          <a class=\"button\">D</a>\n          <span>Drop(space)</span>\n        </div>\n      </div>\n\n      <div class=\"right\">\n        <div>\n          <div class=\"flex-center\" @click=\"tetris.rotate()\">\n            <a class=\"button\">O</a>\n            <span>Rotate(up)</span>\n          </div>\n        </div>\n        <div class=\"flex-space-around\">\n          <div class=\"flex-center\" @click=\"tetris.left()\">\n            <a class=\"button\">L</a>\n            <span>Left(left)</span>\n          </div>\n          <div class=\"flex-center\" @click=\"tetris.right()\">\n            <a class=\"button\">R</a>\n            <span>Right(right)</span>\n          </div>\n        </div>\n        <div>\n          <div class=\"flex-center\" @click=\"tetris.down()\">\n            <a class=\"button\">D</a>\n            <span>Down(down)</span>\n          </div>\n        </div>\n      </div>\n\n    </div>\n\n    <p>Powered by <a href=\"//github.com/wasd-org/wasd-tetris\">wasd-tetris</a></p>\n  </div>\n</template>\n\n<script>\n  import { Tetris, Matrix } from '../../../../dist/tetris'\n\n  export default {\n    name: 'tetris',\n\n    data () {\n      return {\n        tetris: null,\n        graph: Array(15).fill(Array(15)),\n        _pasued: false\n      }\n    },\n\n    mounted () {\n      this.init()\n    },\n\n    methods: {\n      init () {\n\n        this.tetris = new Tetris({\n          matrix: new Matrix({\n            row: 15,\n            col: 15\n          })\n        })\n\n        this.tetris.on('repaint', graph => {\n          this.graph = graph.array\n        })\n\n        this.tetris.on('failed', () => {\n          alert('Failed!')\n        })\n      },\n\n      start () {\n        this._pasued = false\n        this.tetris.start()\n      },\n\n      pause () {\n        if (this._pasued) {\n          this._pasued = false\n          this.tetris.resume()\n        } else {\n          this._pasued = true\n          this.tetris.pause()\n        }\n      }\n    }\n  }\n</script>\n\n<style>\n  body {\n    font-family: Avenir,Helvetica,Arial,sans-serif;\n    text-align: center;\n    color: #2c3e50;\n    font-size: 14px;\n    margin: 0;\n    padding: 0;\n    min-width: 300px;\n  }\n\n  html,\n  body {\n    width: 100%;\n    height: 100%;\n  }\n\n  #app {\n    max-width: 420px;\n    margin: 0 auto;\n    display: flex;\n    min-height: 100%;\n    flex-direction: column;\n  }\n\n  a {\n    color: #42b983;\n    cursor: pointer;\n  }\n\n  .game {\n    width: 100%;\n    max-width: 420px;\n    overflow: hidden;\n    margin: 0 auto;\n  }\n\n  ul,\n  li {\n    list-style: none;\n    margin: 0;\n    padding: 0;\n    font-size: 0;\n  }\n\n  ul.col {\n    display: flex;\n  }\n\n  li.rect {\n    flex: 1;\n    border-radius: 2px;\n    background-color: #97D5E0;\n  }\n\n  li.rect div {\n    width: 100%;\n    padding-bottom: 100%;\n  }\n\n  li.rect.filled {\n    background-color: #5587A2;\n  }\n\n  ul.col li {\n    display: inline-block;\n  }\n\n  .controls {\n    margin-top: 20px;\n    position: relative;\n    flex: 1;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .left,\n  .right {\n    flex: 1;\n  }\n\n  .loop {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .loop > div {\n    flex: 1;\n  }\n\n  .flex-center {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    position: relative;\n  }\n\n  .drop {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n\n  .drop a.button {\n    transform: scale(2);\n    margin: 20px;\n  }\n\n  a.button {\n    width: 3em;\n    height: 3em;\n    border-radius: 1.5em;\n    line-height: 3em;\n    display: inline-block;\n    color: #fff;\n    background-color: #4fc08d;\n    transition: all 0.15s ease;\n    box-sizing: border-box;\n    border: 1px solid #4fc08d;\n  }\n\n  a.button.white {\n    background-color: #fff;\n    color: #42b983;\n  }\n\n  .flex-space-around {\n    display: flex;\n    justify-content: space-around;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?b751b33e","import runtime from 'offline-plugin/runtime'\n\nruntime.install({\n  // When an update is ready, tell ServiceWorker to take control immediately:\n  onUpdateReady() {\n    console.log('update ready')\n    runtime.applyUpdate()\n  },\n\n  // Reload to get the new version:\n  onUpdated() {\n    console.log('updated')\n    location.reload()\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/pwa.js","\n/* styles */\nrequire(\"!!../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?-autoprefixer&sourceMap!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-0b4c016c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!postcss-loader?sourceMap!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0b4c016c\\\"}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/App.vue\n// module id = 11\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('div', {\n    staticClass: \"game\"\n  }, [_c('ul', {\n    staticClass: \"row\"\n  }, _vm._l((_vm.graph), function(row) {\n    return _c('li', [_c('ul', {\n      staticClass: \"col\"\n    }, _vm._l((row), function(col) {\n      return _c('li', {\n        staticClass: \"rect\",\n        class: {\n          'filled': col\n        }\n      }, [_c('div')])\n    }))])\n  }))]), _vm._v(\" \"), _c('div', {\n    staticClass: \"controls\"\n  }, [_c('div', {\n    staticClass: \"left\"\n  }, [_c('div', {\n    staticClass: \"loop\"\n  }, [_c('div', {\n    staticClass: \"flex-center\",\n    on: {\n      \"click\": _vm.pause\n    }\n  }, [_c('a', {\n    staticClass: \"button\"\n  }, [_vm._v(\"P\")]), _vm._v(\" \"), _c('span', [_vm._v(\"pause\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"flex-center\",\n    on: {\n      \"click\": function($event) {\n        _vm.tetris.reset()\n      }\n    }\n  }, [_c('a', {\n    staticClass: \"button\"\n  }, [_vm._v(\"R\")]), _vm._v(\" \"), _c('span', [_vm._v(\"Reset\")])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"drop\",\n    on: {\n      \"click\": function($event) {\n        _vm.tetris.drop()\n      }\n    }\n  }, [_c('a', {\n    staticClass: \"button\"\n  }, [_vm._v(\"D\")]), _vm._v(\" \"), _c('span', [_vm._v(\"Drop(space)\")])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"right\"\n  }, [_c('div', [_c('div', {\n    staticClass: \"flex-center\",\n    on: {\n      \"click\": function($event) {\n        _vm.tetris.rotate()\n      }\n    }\n  }, [_c('a', {\n    staticClass: \"button\"\n  }, [_vm._v(\"O\")]), _vm._v(\" \"), _c('span', [_vm._v(\"Rotate(up)\")])])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"flex-space-around\"\n  }, [_c('div', {\n    staticClass: \"flex-center\",\n    on: {\n      \"click\": function($event) {\n        _vm.tetris.left()\n      }\n    }\n  }, [_c('a', {\n    staticClass: \"button\"\n  }, [_vm._v(\"L\")]), _vm._v(\" \"), _c('span', [_vm._v(\"Left(left)\")])]), _vm._v(\" \"), _c('div', {\n    staticClass: \"flex-center\",\n    on: {\n      \"click\": function($event) {\n        _vm.tetris.right()\n      }\n    }\n  }, [_c('a', {\n    staticClass: \"button\"\n  }, [_vm._v(\"R\")]), _vm._v(\" \"), _c('span', [_vm._v(\"Right(right)\")])])]), _vm._v(\" \"), _c('div', [_c('div', {\n    staticClass: \"flex-center\",\n    on: {\n      \"click\": function($event) {\n        _vm.tetris.down()\n      }\n    }\n  }, [_c('a', {\n    staticClass: \"button\"\n  }, [_vm._v(\"D\")]), _vm._v(\" \"), _c('span', [_vm._v(\"Down(down)\")])])])])]), _vm._v(\" \"), _vm._m(0)])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('p', [_vm._v(\"Powered by \"), _c('a', {\n    attrs: {\n      \"href\": \"//github.com/wasd-org/wasd-tetris\"\n    }\n  }, [_vm._v(\"wasd-tetris\")])])\n}]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-0b4c016c\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/App.vue\n// module id = 13\n// module chunks = 1"],"sourceRoot":""}